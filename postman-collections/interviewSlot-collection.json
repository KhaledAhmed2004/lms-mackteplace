{
  "info": {
    "name": "InterviewSlot API Collection",
    "description": "InterviewSlot module endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Get available interview slots (Applicants see only AVAILABLE)",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Get single interview slot details",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Book an available interview slot",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id/book",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id",
            "book"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"applicationId\": \"{{applicationId}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "response": []
    },
    {
      "name": "Cancel a booked interview slot",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id/cancel",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id",
            "cancel"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"cancellationReason\": \"Need to reschedule\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "response": []
    },
    {
      "name": "Create new interview slot",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\n  \"startTime\": \"{{START_TIME}}\",\n  \"endTime\": \"{{END_TIME}}\",\n  \"date\": \"{{DATE}}\"\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "response": []
    },
    {
      "name": "Mark interview as completed",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id/complete",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id",
            "complete"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "response": []
    },
    {
      "name": "Update interview slot (only AVAILABLE slots)",
      "request": {
        "method": "PATCH",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        }
      },
      "response": []
    },
    {
      "name": "Delete interview slot",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{BASE_URL}}/api/v1/interview-slots/:id",
          "host": [
            "{{BASE_URL}}"
          ],
          "path": [
            "api",
            "v1",
            "interview-slots",
            ":id"
          ]
        }
      },
      "response": []
    }
  ],
  "variable": [
    {
      "key": "BASE_URL",
      "value": "http://localhost:5000",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "tutorId",
      "value": "",
      "type": "string"
    },
    {
      "key": "studentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "chatId",
      "value": "",
      "type": "string"
    },
    {
      "key": "messageId",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "paymentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "clientSecret",
      "value": "",
      "type": "string"
    },
    {
      "key": "subjectId",
      "value": "",
      "type": "string"
    },
    {
      "key": "applicationId",
      "value": "",
      "type": "string"
    },
    {
      "key": "slotId",
      "value": "",
      "type": "string"
    },
    {
      "key": "trialRequestId",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionRequestId",
      "value": "",
      "type": "string"
    },
    {
      "key": "subscriptionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "billingId",
      "value": "",
      "type": "string"
    },
    {
      "key": "earningsId",
      "value": "",
      "type": "string"
    },
    {
      "key": "reviewId",
      "value": "",
      "type": "string"
    },
    {
      "key": "notificationId",
      "value": "",
      "type": "string"
    },
    {
      "key": "TARGET_ID",
      "value": "",
      "type": "string"
    },
    {
      "key": "TEST_EMAIL",
      "value": "test@example.com",
      "type": "string"
    },
    {
      "key": "TEST_PASSWORD",
      "value": "SecurePass123!",
      "type": "string"
    },
    {
      "key": "TEST_NAME",
      "value": "John Doe",
      "type": "string"
    },
    {
      "key": "NEW_PASSWORD",
      "value": "NewSecure123!",
      "type": "string"
    },
    {
      "key": "UPDATED_NAME",
      "value": "Updated Name",
      "type": "string"
    },
    {
      "key": "START_TIME",
      "value": "2025-12-13T00:27:28.376Z",
      "type": "string"
    },
    {
      "key": "END_TIME",
      "value": "2025-12-13T01:27:28.377Z",
      "type": "string"
    },
    {
      "key": "DATE",
      "value": "2025-12-13",
      "type": "string"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-inject Bearer token if available",
          "const token = pm.collectionVariables.get(\"accessToken\");",
          "",
          "if (token) {",
          "  pm.request.headers.add({",
          "    key: \"Authorization\",",
          "    value: \"Bearer \" + token",
          "  });",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Generic response validation",
          "pm.test(\"Status code is 2xx\", function () {",
          "  pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
          "});",
          "",
          "pm.test(\"Response has success field\", function () {",
          "  const response = pm.response.json();",
          "  pm.expect(response).to.have.property(\"success\");",
          "});"
        ]
      }
    }
  ]
}