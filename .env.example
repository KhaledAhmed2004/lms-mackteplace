# .env.example
# Copy this file to .env and replace placeholders with actual values
# NEVER commit .env to version control!

# ==============================================================================
# APPLICATION CONFIGURATION
# ==============================================================================
NODE_ENV=development
IP_ADDRESS=localhost
PORT=5000
FRONTEND_URL=http://localhost:3000

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# MongoDB Atlas or local MongoDB connection string
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
# Local: mongodb://localhost:27017/educoin-backend
DATABASE_URL=mongodb://localhost:27017/educoin-backend

# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================
# Number of bcrypt salt rounds (10-12 recommended, higher = more secure but slower)
BCRYPT_SALT_ROUNDS=12

# JWT Secret for Access Tokens
# Generate with: openssl rand -base64 64
# IMPORTANT: Must be at least 256 bits (32 bytes) for production!
JWT_SECRET=generate-strong-secret-with-openssl-rand-base64-64

# JWT Access Token Expiration
# Examples: 15m, 1h, 1d
# Recommendation: 15m for production, 1d for development
JWT_EXPIRE_IN=1d

# JWT Secret for Refresh Tokens
# Generate with: openssl rand -base64 64
# MUST BE DIFFERENT from JWT_SECRET
JWT_REFRESH_SECRET=generate-different-secret-with-openssl-rand-base64-64

# JWT Refresh Token Expiration
# Examples: 7d, 30d, 365d
# Recommendation: 7d for production, 365d for development
JWT_REFRESH_EXPIRE_IN=365d

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
# Email sender address
EMAIL_FROM=noreply@yourdomain.com

# SMTP Email Configuration
# For Gmail: smtp.gmail.com
# For SendGrid: smtp.sendgrid.net
# For AWS SES: email-smtp.us-east-1.amazonaws.com
EMAIL_USER=your-email@gmail.com

# Email Password / App Password
# Gmail: Generate app password at https://myaccount.google.com/apppasswords
# SendGrid: Use your SendGrid API key
# AWS SES: Use SMTP credentials
EMAIL_PASS=your-email-app-password-16-characters

# SMTP Server Host
EMAIL_HOST=smtp.gmail.com

# SMTP Server Port
# Gmail: 587 (TLS) or 465 (SSL)
# SendGrid: 587 or 2525
EMAIL_PORT=587

# ==============================================================================
# SUPER ADMIN ACCOUNT (for database seeding)
# ==============================================================================
# Default super admin email (created on first run)
SUPER_ADMIN_EMAIL=admin@yourdomain.com

# Default super admin password
# IMPORTANT: Change this immediately after first login!
# Must be strong: min 8 chars, uppercase, lowercase, number, special char
SUPER_ADMIN_PASSWORD=ChangeThisStrongPassword123!

# ==============================================================================
# GOOGLE OAUTH 2.0 CONFIGURATION
# ==============================================================================
# Google OAuth Client ID
# Get from: https://console.cloud.google.com/apis/credentials
# Format: xxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com

# Google OAuth Client Secret
# Get from: https://console.cloud.google.com/apis/credentials
# Format: GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxx
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Google OAuth Redirect URI
# Must match the authorized redirect URI in Google Cloud Console
# Development: http://localhost:3000/auth/google/callback
# Production: https://yourdomain.com/auth/google/callback
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# ==============================================================================
# FIREBASE CLOUD MESSAGING (Push Notifications)
# ==============================================================================
# Firebase Service Account Key (Base64 Encoded)
# 1. Download service account JSON from Firebase Console
# 2. Encode to base64: base64 -i service-account.json -o service-account.txt
# 3. Copy the base64 string here (single line, no line breaks)
FIREBASE_SERVICE_ACCOUNT_KEY_BASE64=your-base64-encoded-firebase-service-account-key

# Firebase Web Push Credentials
# Get from Firebase Console > Project Settings > Cloud Messaging
FIREBASE_WEB_PUSH_CREDENTIALS=your-firebase-web-push-credentials

# ==============================================================================
# STRIPE PAYMENT CONFIGURATION
# ==============================================================================
# Stripe Secret Key
# Test mode: sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Live mode: sk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Get from: https://dashboard.stripe.com/apikeys
# IMPORTANT: NEVER commit live keys to version control!
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe Publishable Key (safe to expose to frontend)
# Test mode: pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Live mode: pk_live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Stripe Webhook Secret
# Format: whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# Get from: https://dashboard.stripe.com/webhooks
# IMPORTANT: Different for test and live mode!
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# ==============================================================================
# PAYMENT CONFIGURATION
# ==============================================================================
# Platform fee percentage (decimal format)
# 0.20 = 20% platform fee
PLATFORM_FEE_PERCENTAGE=0.20

# Minimum payment amount (in smallest currency unit)
# For USD: 100 = $1.00
MINIMUM_PAYMENT_AMOUNT=100

# Maximum payment amount (in smallest currency unit)
# For USD: 100000 = $1,000.00
MAXIMUM_PAYMENT_AMOUNT=100000

# Default currency code (ISO 4217)
# Examples: usd, eur, gbp, inr
DEFAULT_CURRENCY=usd

# ==============================================================================
# DEBUGGING & DEVELOPMENT
# ==============================================================================
# Enable CORS debugging logs (set to true for troubleshooting CORS issues)
# WARNING: Generates lots of logs, only enable when debugging
CORS_DEBUG=false

# ==============================================================================
# OBSERVABILITY (Optional - for production monitoring)
# ==============================================================================
# Log Level (error, warn, info, debug)
# Recommendation: info for production, debug for development
# LOG_LEVEL=info

# Sentry DSN for error tracking (optional)
# Get from: https://sentry.io/settings/projects/
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Jaeger Endpoint for distributed tracing (optional)
# Default: http://localhost:14268/api/traces
# JAEGER_ENDPOINT=http://localhost:14268/api/traces

# ==============================================================================
# REDIS CONFIGURATION (Optional - for caching, sessions, rate limiting)
# ==============================================================================
# Redis connection URL
# Local: redis://localhost:6379
# Redis Cloud: redis://username:password@host:port
# REDIS_URL=redis://localhost:6379

# ==============================================================================
# CLOUDINARY CONFIGURATION (Optional - for cloud file storage)
# ==============================================================================
# Cloudinary Cloud Name
# Get from: https://cloudinary.com/console
# CLOUDINARY_CLOUD_NAME=your-cloud-name

# Cloudinary API Key
# CLOUDINARY_API_KEY=your-api-key

# Cloudinary API Secret
# CLOUDINARY_API_SECRET=your-api-secret

# ==============================================================================
# AWS S3 CONFIGURATION (Optional - alternative to Cloudinary)
# ==============================================================================
# AWS Access Key ID
# AWS_ACCESS_KEY_ID=your-aws-access-key-id

# AWS Secret Access Key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# AWS S3 Bucket Name
# AWS_S3_BUCKET=your-bucket-name

# AWS Region
# AWS_REGION=us-east-1

# ==============================================================================
# SETUP INSTRUCTIONS
# ==============================================================================
# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Fill in all required values (remove placeholder text)
#
# 3. Generate strong secrets:
#    openssl rand -base64 64  # For JWT_SECRET
#    openssl rand -base64 64  # For JWT_REFRESH_SECRET
#
# 4. Never commit .env to git (it's in .gitignore)
#
# 5. For production, use a secrets manager:
#    - AWS Secrets Manager
#    - HashiCorp Vault
#    - Doppler
#    - Environment variables in hosting platform
#
# ==============================================================================